<div class="product-page">
    <div class="min-h-full w-full my-5 mx-auto px-4 py-4 md:px-6 lg:px-8 bg-white-alpha-60">
        <div class="grid ">
            <div class="col-6 image-holder">
                <ui-gallery [images] = "product.images"></ui-gallery>
            </div>
            <div class="col-5 ml-6 product-details">
                <div class="col-12 text-left flex flex-row justify-content-between align-items-center">
                    <h3 class="col-8 title">{{product.name}}</h3>
                    <p-rating class="reviews text-right col-5" [(ngModel)]="ratingVale" [cancel]="false" [readonly]="true" ></p-rating>
                </div>
                <p class="col-11 desc">{{product.description}}</p>
                <div class="col-12 colors">
                    Colors
                </div>
                <div class="col-12 size">
                    Size
                </div>
                <hr>
                <div class="flex flex-row justify-content-around align-items-center">
                    <h2 class="price text-left">{{ val* product.price | currency}}</h2>
                    <h3 class="price-before text-left">{{ val* product.price * (1.3) | currency}}</h3>
                    <div class="flex flex-row align-content-center ml-3">
                        <p class="quantity mr-3">Quantity</p><br>
                        <p-inputNumber [(ngModel)]="val" [showButtons]="true" 
                                incrementButtonIcon="pi pi-chevron-up" decrementButtonIcon="pi pi-chevron-down"
                                inputId="minmax-buttons" [min]="1" class="quantity-input h-2rem align-self-center" [step]="1">
                        </p-inputNumber>
                    </div>
                    </div>
                    <div class="col-12 add-to-cart-btn flex justify-content-center">
                        <button pButton type="button" label="Buy Now" class="mx-4"></button>
                        <button pButton type="button" label="Add to Cart" class="mx-4" (click)="addProductToCart()"><i class="pi pi-shopping-cart mr-2"></i></button>
                    </div>
            </div>
        </div>
        <hr class="mb-5">
        <div class="grid desc-reviews">
            
            <p-tabView class="col-12">
                <p-tabPanel header="description">
                    <hr>
                    <div class="col-12 desc my-5" [innerHTML]="product.richDescription"></div>
                </p-tabPanel>
                <p-tabPanel header="Reviews">
                    <hr>
                    <div class="text-right mb-4 mt-5">
                        <p-button styleClass="p-button-success align-self-end" label="Leave a review" icon="pi pi-pencil" routerLink="form"></p-button>
                    </div>
                    <div class="review-item flex flex-column bg-white-alpha-60 shadow-2 my-3 py-1 px-5 col-10 col-offset-1" *ngFor="let review of reviews">
                        <div class="header flex flex-row justify-content-between">
                            <div class="username">
                                <h5>{{review.reviewer}}</h5>
                            </div>
                            <div class="rating">
                                <p>{{review.rating}}</p>
                            </div>
                        </div>
                        <div class="review-text">
                            <p>{{review.text}}</p>
                        </div>
                        <div class="review-date align-self-end">
                            <p>{{review.created_on | date: 'short'}}</p>
                        </div>
                    </div>
                </p-tabPanel>
            </p-tabView>

        </div>

    </div>
</div>